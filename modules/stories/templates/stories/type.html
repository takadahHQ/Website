{% extends 'base.html' %}
{% load advert_tags %}


{% block title %}
{{ story.first.story_type.name }}
{% endblock title %}

{% block page-title %}
Publication Type: {{ story.first.story_type.name }}
{% endblock page-title %}
{% block breadcrumbs %}
<li><a>Type</a></li> 
<li><a>{{ type.name | capfirst }}</a></li> 
{% endblock %}
{% block content %}
<div class="bg-mono-50 dark:bg-mono-800 rounded shadow-mono-400 p-2 lg:p-8  space-y-4">
    {% for result in story %}
    <div class="flex flex-col scale-95 hover:scale-100 transition duration-300 ease-in-out">
        <div class="bg-mono-50 dark:bg-mono-700 shadow-md  rounded-3xl p-4">
            <div class="flex-none lg:flex">
                <div class="md:w-1/8 h-auto lg:mb-0 mb-">
                    <img src="{{result.get_cover }}"
                        alt="{{result.title }}" class="w-full h-auto object-scale-down max-h-48 lg:object-cover rounded-2xl">
                </div>
                <div class="flex-auto ml-3 justify-evenly py-2">
                    <a href="{{ result.get_absolute_url }}">
                        <div class="flex flex-wrap ">
                            <a href="{{ result.story_type.get_absolute_url }}" class="w-full flex-none text-xs text-mono-700 font-medium ">
                                {{ result.story_type.name }}
                            </a>
                            <h2><a href="{{ result.get_absolute_url }}" class="flex-auto text-lg font-medium text-mono-500 dark:text-mono-200">{{ result.title }}</a></h2>
                        </div>
                        <p class="flex-auto text-lg font-medium text-mono-600 dark:text-mono-200">                          
                                Written by:{% for author in result.author.all %}
                            <span class="badge badge-accent bg-mono-400"> 
                                <a href="{% url 'core:author' author.username %}">{{ author.name }}</a>
                            </span>
                        {% endfor %}</p>
                        <div class="flex pb-2 mt-3 md:mt-1 border-t border-mono-700 dark:border-mono-200 "></div>
                        <div class="mt-3 md:mt-1 flex py-4 md:py-0  text-sm text-mono-500 max-h-24 overflow-hidden">
                            <a href="{{ result.get_absolute_url }}">
                            <div class="flex-1 inline-flex items-center text-clip">
                                {{ result.summary | safe |truncatechars:255 }}
                            </div>
                        </a>
                        </div>
                    </a>
            </div>
        </div>
    </div>
{% empty %}
<h3 class="flex justify-center">There is no written work for this right now.</h3>
{% endfor %}
</div>
{% endblock content %}