{% extends 'dashboard.html' %}
{% load advert_tags %}
{% load tailwind_filters %}

{% block title %}
History
{% endblock title %}

{% block page-title %}
History
{% endblock page-title %}
{% block breadcrumbs %}
<li><a>History</a></li> 
{% endblock %}
{% block content %}
<div class="rounded shadow-mono-400 p-2 lg:p-8  space-y-4">
    {% for history in histories %}
    <div class="flex flex-col hover:scale-105 transition duration-300 ease-in-out">
        <div class="bg-mono-50 dark:bg-mono-700 shadow-md  rounded-3xl p-4">
            <div class="flex-none lg:flex">
                <div class="md:w-1/8 h-auto lg:mb-0 mb-">
                    <img src="{{ history.story.get_cover }}"
                        alt="{{ history.story.title }}" class="w-full h-auto object-scale-down lg:object-cover rounded-2xl">
                </div>
                <div class="flex-auto md:w-3/4  ml-3 justify-evenly py-2">
                    <a href="{{ history.story.get_absolute_url}}">
                        <div class="flex flex-wrap ">
                            <div class="w-full flex-none text-xs text-mono-700 dark:text-mono-200 font-medium ">
                                {{ history.story.story_type.name }}
                            </div>
                            <h2 class="flex-auto text-lg font-medium dark:text-mono-100">{{ history.story.title }}</h2>
                        </div>
                        <p class="mt-3"></p>
                        <div class="flex py-4  text-sm text-mono-500 dark:text-mono-200">
                            <div class="flex-1 inline-flex items-center">
                                {{ history.story.summary | safe }}
                            </div>
                        </div>
                    </a>
                    <div class="flex p-4 pb-2 border-t border-mono-300 "></div>
                    <div class="flex space-x-3 text-sm font-medium">
                        <button disabled>
                            <p class="text-sm text-mono-200">Read {{ history.chapter.position }} of {{ history.story.chapters.count }} Chapters.</p>
                        </button>
                        <div class="flex-auto flex space-x-3">
                        </div>
                        <button class="mb-2 md:mb-0 bg-mono-50 px-4 py-2 shadow-sm tracking-wider border text-mono-600 dark:text-mono-300 rounded-full hover:bg-mono-100 inline-flex items-center space-x-2 " type="button" aria-label="like">
                            <a href="{{ history.chapter.get_absolute_url }}" >Continue Reading</a>
                        </button>
                        
                        <button
                            class="mb-2 md:mb-0 px-5 py-2 text-mono-200 shadow tracking-wider hover:border bg-mono-700 dark:bg-mono-500 dark:text-mono-300 rounded-full hover:bg-mono-800"
                            type="button" aria-label="like"><a href="{% url 'core:stop-reading' history.id %}" >Delete</a></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% empty %}
<h3 class="flex justify-center">No Novel read yet, do you need help?</h3>
{% endfor %}
{% endblock content %}