<nav x-data="{ isOpen: false }"
    class="sticky shadow dark:bg-[{{ settings.color }}] bg-[{{ settings.color }}]/80 backdrop-blur dark:border-[{{ settings.color }}]/30 text-mono-200 dark:text-mono-100">
    <div class="container px-6 py-4 mx-auto">
        <div class="flex items-center justify-between">
            <div class="flex items-center justify-between">
                <a href="/">
                    <img class="w-auto h-6 sm:h-7 scale-130"
                        src="https://takadahmedia.s3.amazonaws.com/static/images/logo-colored.svg" alt="">
                </a>
            </div>

            <div class="flex flex-row">
            <!-- Mobile Menu open: "block", Menu closed: "hidden" -->
            <div x-cloak :class="[isOpen ? 'translate-x-0 opacity-100 ' : 'opacity-0 -translate-x-full']"
                class="absolute inset-x-0 top-20 z-20 w-full px-6 py-4 transition-all duration-300 ease-in-out lg:mt-0 lg:p-0 lg:top-0 lg:relative lg:bg-transparent lg:w-auto lg:opacity-100 lg:translate-x-0 lg:flex lg:items-center bg-[{{ settings.color }}] bg-[{{ settings.color }}]/80 text-mono-200 dark:text-mono-100">
                <div class="flex flex-col -mx-6 lg:flex-row lg:items-center lg:mx-8">
                    <form action="{% url 'watson:search' %}"
                        class="flex items-center gap-4 transition-colors duration-300 transform rounded-md">
                        <div class="relative">
                            <label class="sr-only" for="search"> Search </label>

                            <input
                                class="w-full h-10 pl-4 pr-10 text-sm bg-white border-none rounded-full shadow-sm sm:w-56"
                                id="search" type="search" placeholder="Search website..." name="q"
                                value="{{request.GET.q}}" />

                            <button
                                class="absolute p-2 text-gray-600 rounded-full transition -translate-y-1/2 hover:text-gray-700 bg-gray-50 top-1/2 right-1"
                                type="button" aria-label="Submit Search">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                </svg>
                            </button>
                        </div>
                    </form>
                    {% comment %} <a href="#"
                        class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md">Join
                        Slack</a>
                    <a href="#"
                        class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md">Browse
                        Topics</a>
                    <a href="#"
                        class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md">Random
                        Item</a>
                    <a href="#"
                        class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md">Experts</a>
                    {% endcomment %}
                </div>

                <div class="flex items-center mt-4 lg:mt-0">
                    {% comment %} <button
                        class="hidden mx-4 text-mono-600 transition-colors duration-300 transform lg:block dark:text-mono-200 hover:text-mono-200 dark:hover:text-mono-400 focus:text-mono-200 dark:focus:text-mono-400 focus:outline-none"
                        aria-label="show notifications">
                        <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15 17H20L18.5951 15.5951C18.2141 15.2141 18 14.6973 18 14.1585V11C18 8.38757 16.3304 6.16509 14 5.34142V5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5V5.34142C7.66962 6.16509 6 8.38757 6 11V14.1585C6 14.6973 5.78595 15.2141 5.40493 15.5951L4 17H9M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                    <button type="button" class="flex items-center focus:outline-none"
                        aria-label="toggle profile dropdown">
                        <div class="w-8 h-8 overflow-hidden border-2 border-mono-400 rounded-full">
                            <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=334&q=80"
                                class="object-cover w-full h-full" alt="avatar">
                        </div>

                        <h3 class="mx-2 text-mono-200 dark:text-mono-200 lg:hidden">Khatab wedaa</h3>
                    </button>
                    {% endcomment %}
                    <a class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md"
                    href="{% url 'stories:author:dashboard' %}">
                    <svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-5 mr-2 stroke-current" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                    </svg>
                    Author
                </a>
                    {% if user.is_authenticated %}
                    <a class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md"
                        href="{% url 'core:bookmark' %}">
                        <svg class="w-6 h-6 mr-2 stroke-current" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 4v12l-4-2-4 2V4M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                            </path>
                        </svg> Bookmark
                    </a>
                    <a class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md"
                        href="{% url 'core:history' %}">
                        <svg class="inline-block w-6 h-6 mr-2 stroke-current" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">
                            </path>
                        </svg> History
                    </a>
                    <div class="dropdown dropdown-end px-4">
                        <label tabindex="0" class="btn btn-ghost btn-circle avatar space-x-6">
                            <span class="flex">
                                <div class="w-8 h-8 overflow-hidden rounded-full mr-2">
                                    <img src="{{ user.get_profile_image }}"
                                        class="border-2 border-mono-400 rounded-full object-cover w-full h-full" />
                                </div>
                            </span>
                        </label>
                        <ul tabindex="0"
                            class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-mono-700 rounded-box">
                            <li>
                                <div class="text-xs">Signed in as <br /><span>{{ user.name }}</span></div>
                                <hr />
                                <a class="justify-between" href="{{ user.get_absolute_url }}">
                                    Profile
                                </a>
                            </li>
                            {% if user.is_staff %}
                            <hr />
                            <li>
                                <a class="" href="{% url 'admin:index' %}">
                                    Admin Dashboard
                                </a>
                            </li>
                            <hr />
                            {% endif %}
                            <li><a>Settings</a></li>
                            <li><a class="" href="{% url 'logout' %}">
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                    {% else %}
                    <a class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md"
                        href="{% url 'core:register' %}">
                        <svg class="inline-block w-5 mr-2 stroke-current" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3">
                            </path>
                        </svg> Register
                    </a>

                    <a class="btn btn-ghost btn-sm rounded-btn transition-colors duration-300 transform rounded-md"
                        href="{% url 'two_factor:login' %}">
                        <svg class="inline-block w-5 mr-2 stroke-current" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1">
                            </path>
                        </svg> Login
                    </a>
                    {% endif %}
                </div>
            </div>

                            <!-- Mobile menu button -->
                            <div class="flex transition-all duration-300 ease-in-out">
                                <button
                                class="w-10 h-10 rounded-full mx-2 bg-mono-800 flex justify-center items-center text-mono-50 lg:visible"
                                id="theme-toggle">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M12.2256 2.00253C9.59172 1.94346 6.93894 2.9189 4.92893 4.92891C1.02369 8.83415 1.02369 15.1658 4.92893 19.071C8.83418 22.9763 15.1658 22.9763 19.0711 19.071C21.0811 17.061 22.0565 14.4082 21.9975 11.7743C21.9796 10.9772 21.8669 10.1818 21.6595 9.40643C21.0933 9.9488 20.5078 10.4276 19.9163 10.8425C18.5649 11.7906 17.1826 12.4053 15.9301 12.6837C14.0241 13.1072 12.7156 12.7156 12 12C11.2844 11.2844 10.8928 9.97588 11.3163 8.0699C11.5947 6.81738 12.2094 5.43511 13.1575 4.08368C13.5724 3.49221 14.0512 2.90664 14.5935 2.34046C13.8182 2.13305 13.0228 2.02041 12.2256 2.00253ZM17.6569 17.6568C18.9081 16.4056 19.6582 14.8431 19.9072 13.2186C16.3611 15.2643 12.638 15.4664 10.5858 13.4142C8.53361 11.362 8.73568 7.63895 10.7814 4.09281C9.1569 4.34184 7.59434 5.09193 6.34315 6.34313C3.21895 9.46732 3.21895 14.5326 6.34315 17.6568C9.46734 20.781 14.5327 20.781 17.6569 17.6568Z"
                                    fill="currentColor" />
                                </svg>
                                </button>
                                <button x-cloak @click="isOpen = !isOpen" type="button"
                                    class="text-mono-500 dark:text-mono-200 hover:text-mono-600 dark:hover:text-mono-400 focus:outline-none focus:text-mono-600 dark:focus:text-mono-400 lg:hidden"
                                    aria-label="toggle menu">
                                    <svg x-show="!isOpen" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 8h16M4 16h16" />
                                    </svg>
            
                                    <svg x-show="isOpen" xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>
            </div>
        </div>
    </div>
</nav>